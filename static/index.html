<!doctype html>
<html lang="en">
   <head>
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
      <meta name="description" content="Measure how many people are using your webapp">
      <title>Webstats</title>
      <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
      <script src="https://cdnjs.cloudflare.com/ajax/libs/Chart.js/2.9.3/Chart.min.js"></script>
      <script src="script.js"></script>
      <style>
         h1, h2, h3, h4, h5, h6, h7, .simple {
         color: #194873;
         font-weight: bold;
         }
         .btn-warning {
         font-weight: bold;
         background-color: #268bd2;
         border-color: black;
         color: white;
         text-shadow: -1px 0 #e86e17, 0 1px  #e86e17, 1px 0 #e86e17, 0 -1px #e86e17;
         }
         .btn-light, .btn-light:hover {
         border-color: black;
         }
      </style>
   </head>
   <body>
      <div id="page-index">
         <div class="container" style="margin-bottom: 5em; max-width: 37em;">





         <div style="background-color: white; padding-top: 1em; margin-bottom: 2em;">
            <br/>
            <div class="" >
               <div class="card border-dark bg-light">
                  <div class="card-body">
                     <div class="card-title">
                        <h2><b class="simple">Simple</b> <span class="text-dark">Web Analytics<span></h2>
                     </div>
                     <h6 class="card-subtitle mb-2 text-muted">Instant Setup. No Cookies. Always Free.</h6>
                     <div class="card-text">
                        <p>
                           The lowest possible barrier to get you started with web analytics.
                        </p>
                        <div id="alert" class="alert alert-warning" style="display: none;" role="alert">
                        </div>
                        <form method="POST" action="">
                           <div class="form-group has-error">
                              <input id="user" class="form-control" name="username" placeholder="Choose username">
                           </div>
                           <div class="form-group">
                              <input id="password" type="password" name="password" class="form-control" placeholder="Password">
                           </div>
                           <div class="btn-group mr-2" role="group" aria-label="First group">
                              <button type="submit" onclick="post('dashboard'); return false" class="btn btn-light" name="action">Login</button>
                              <a href="#" class="btn btn-light">Demo</a>
                              <button type="submit" onclick="post('register'); return false" class="btn btn-dark" name="action" value="register">&nbsp;&nbsp;Register&nbsp;&nbsp;</button>
                           </div>
                        </form>
                     </div>
                  </div>
               </div>
            </div>
         </div>







            <style>
               p.short {
               max-width: 37em;
               }
            </style>
            <h1>Instant Setup</h1>
            <p class="short">
               Register in 10 seconds or less.
            </p>
            <h1>No Cookies</h1>
            <p class="short">
               We don't use cookies. We don't assign user identifiers to traffic.
            </p>
            <h1>Real-Time</h1>
            <p class="short">
               Your dashboard get's updated on new data.
            </p>
            <h1>Always Free</h1>
            <p class="short">
               We only show our users what they actually understand. Clean Web Analytics was
               carefully crafted to give you an uncluttered view. Everything is in one
               printable page. No hidden menus.  
            </p>
         </div>
      </div>
      <style>
         li {
         list-style: none
         }
         ul {
         padding-left: 0px;
         }
         .info {
            margin-bottom: 0.75em;
            font-size: 1.25em;
         
         }
      </style>
      <div id="page-graphs" style="display: none">
         <div class="container" style="max-width: 50em; background-color: white;">
            <br />
            <h1 class="text-muted">Hello "<span class="username">USERNAME</span>"</h1>
            <h5 class="text-muted">simple-web-analytics.com</h5>
            <br />
            <hr>
            <div class="row" style="margin-top: 5px; margin-bottom: 5px;">
               <div class="col-md-3">
                  <h5 class="">Current</h5>
                  <div class="tinfo">
                     <div id="today">-</div>
                  </div>
               </div>
               <div class="col-md-3">
                  <h5>Median <small class="text-dark">7 days</small></h5>
                  <div class="info">
                     <div id="median">-</div>
                  </div>
               </div>
               <div class="col-md-3">
                  <h5>Median <small class="text-dark">30 days</small></h5>
                  <div class="info">
                     <div id="median_more">-</div>
                  </div>
               </div>
            </div>
            <div class="row" style="margin-bottom: 5px">
               <div class="col-md-12">
                  <div class="border py-5 px-3">
                     <canvas height="150" id="graph" />
                  </div>
               </div>
            </div>
            <div class="row my-5">
               <div id="list_ref" class="col-md-6">
               </div>
               <div id="list_loc" class="col-md-6">
               </div>
            </div>
            <hr>
            <div class="row my-5">
               <div class="col-md-4">
                  <h5>Devices</h5>
                  <div class="py-2">
                     <canvas id="device" height=200 />
                  </div>
               </div>
               <div class="col-md-4">
                  <h5>Time</h5>
                  <div class="py-2">
                     <canvas id="time"  height=200 />
                  </div>
               </div>
               <div class="col-md-4">
                  <h5>Weekday</h5>
                  <div class="py-2">
                     <canvas id="weekday"  height=200 />
                  </div>
               </div>
            </div>
            <hr>
            <div class="row my-5">
               <div id="list_browser" class="col-md-4"></div>
               <div id="list_platform" class="col-md-4"></div>
               <div id="list_lang" class="col-md-4"></div>
            </div>
            <hr />
            <div class="row my-5">
               <div class="col-md-12" style="max-height: 50;">
                  <h4>Last Visits</h4>
                  <div id="log_container">
                  <pre><code id="log"></pre></code>
                  </div>
               </div>
            </div>
            <hr />
            <div class="row my-5">
               <div class="col-md-12">
                  <h4>Integration</h4>
                  <div class="bg-light px-3 py-3">
                     <pre><code>//
// Simple Web Analytics
//
&lt;script&gt;
fetch('https://simple-web-analytics.com/track?' + new URLSearchParams({
    site: '<span class="username">USERNAME</span>',
    utcoffset: 0,
    referrer: document.referrer
}))
&lt;/script&gt;
</pre>
                     </code>
                  </div>
               </div>
            </div>
         </div>
      </div>
      <script>
         fetch('http://localhost:8000/track?' + new URLSearchParams({
             site: 'asdf',
             utcoffset: 0,
             referrer: document.referrer
         }))
      </script>
      <script>
         document.getElementById("user").value = "asdf"
         document.getElementById("user").focus()
         document.getElementById("password").value = "asdfasdf"
         //document.forms[0].submit()
         
      </script>
   </body>
</html>

